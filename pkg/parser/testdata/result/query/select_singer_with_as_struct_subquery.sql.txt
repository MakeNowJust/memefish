--- select_singer_with_as_struct_subquery.sql
SELECT
  ARRAY(
    (
      SELECT AS STRUCT
        *
      FROM Singers LIMIT 100
    )
  )

--- AST
&parser.QueryStatement{
  Hint:  (*parser.Hint)(nil),
  Query: &parser.Select{
    pos:      0,
    Distinct: false,
    AsStruct: false,
    Results:  []parser.SelectItem{
      &parser.ExprSelectItem{
        Expr: &parser.ArraySubQuery{
          pos:   9,
          end:   93,
          Query: &parser.SubQuery{
            pos:   20,
            end:   89,
            Query: &parser.Select{
              pos:      28,
              Distinct: false,
              AsStruct: true,
              Results:  []parser.SelectItem{
                &parser.Star{
                  pos: 53,
                },
              },
              From: &parser.From{
                pos:   61,
                Items: []*parser.FromItem{
                  &parser.FromItem{
                    Source: &parser.TableName{
                      Table: &parser.Ident{
                        pos:  66,
                        end:  73,
                        Name: "Singers",
                      },
                      Hint: (*parser.Hint)(nil),
                      As:   (*parser.AsAlias)(nil),
                    },
                    TableSample: (*parser.TableSample)(nil),
                  },
                },
              },
              Where:   (*parser.Where)(nil),
              GroupBy: (*parser.GroupBy)(nil),
              Having:  (*parser.Having)(nil),
              OrderBy: (*parser.OrderBy)(nil),
              Limit:   &parser.Limit{
                pos:   74,
                Count: &parser.IntLiteral{
                  pos:   80,
                  end:   83,
                  Base:  10,
                  Value: "100",
                },
                Offset: (*parser.Offset)(nil),
              },
            },
            OrderBy: (*parser.OrderBy)(nil),
            Limit:   (*parser.Limit)(nil),
          },
        },
      },
    },
    From:    (*parser.From)(nil),
    Where:   (*parser.Where)(nil),
    GroupBy: (*parser.GroupBy)(nil),
    Having:  (*parser.Having)(nil),
    OrderBy: (*parser.OrderBy)(nil),
    Limit:   (*parser.Limit)(nil),
  },
}

--- SQL
SELECT ARRAY((SELECT AS STRUCT * FROM Singers LIMIT 100))
